<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Support & Help</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://unpkg.com/cursor-effects@latest/dist/browser.js"></script>
    <style>
        :root {
            --primary: #3a86ff;
            --primary-dark: #2667cc;
            --background: #121212;
            --surface: #1e1e1e;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 50px;
            width: auto;
            transition: transform 0.3s ease;
        }
        
        .logo:hover img {
            transform: scale(1.05);
        }
        
        
        body {
            background-color: var(--background);
            color: var(--text-primary);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* Navigation */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: var(--surface);
            box-shadow: 0 2px 8px rgba(0,0,0,0.5);
            position: sticky;
            top: 0;
            z-index: 1000;
            width: 100%;
        }
        
        .logo img {
            height: 40px;
            transition: transform 0.3s ease;
        }
        
        .logo img:hover {
            transform: scale(1.05);
        }
        
        .nav-links {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin: 0;
            padding: 0;
            list-style: none;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 6px;
        }
        
        .nav-links a:hover {
            color: var(--primary);
            background-color: rgba(58, 134, 255, 0.1);
        }
        
        /* Special styling for the login button */
        .login-btn {
            background: var(--primary) !important;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .login-btn:hover {
            background: var(--primary-dark) !important;
        }
        
        /* Header section with hover animation */
        .header-section {
            background: var(--primary);
            padding: 40px 0;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .header-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark), var(--primary));
            background-size: 200% 200%;
            animation: gradientMove 15s ease infinite;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .header-section:hover::before {
            opacity: 1;
        }
        
        @keyframes gradientMove {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        /* Header content */
        .header-section h1, 
        .header-section p {
            position: relative;
            z-index: 1;
            color: var(--text-primary);
        }
        
        h1 {
            margin: 0;
            font-size: 2.5rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transform: translateY(0);
            transition: transform 0.3s ease;
        }
        
        .header-section:hover h1 {
            transform: translateY(-5px);
        }
        
        .header-section p {
            margin-top: 10px;
            font-size: 1.1rem;
            opacity: 0.9;
            transform: translateY(0);
            transition: all 0.3s ease;
        }
        
        .header-section:hover p {
            opacity: 1;
            transform: translateY(-5px);
        }
        
        /* Style for the subtitle */
        .header-section p {
            color: var(--light);
            margin-top: 10px;
            font-size: 1.1rem;
        }
        
        /* Cards Container */
        .container {
            display: flex;
            flex-wrap: nowrap;
            justify-content: center;
            gap: 20px;
            margin: 50px auto;
            padding: 20px;
            perspective: 1000px;
            max-width: 1400px;
        }
        
        /* Individual Cards */
        .card {
            background: #222;
            width: 250px;
            height: 220px;
            perspective: 1000px;
            cursor: pointer;
            border-radius: 15px;    
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            flex: 1;
            min-width: 0;
        }
        
        .card::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            border-radius: 15px;
            background: #000000
            background-size 400%;
            animation: gradientAnimation 8s infinite linear;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .card:hover::before {
            opacity: 0.4;
        }
        
        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 35px rgba(66, 133, 244, 0.3);
        }
        
        .card-inner {
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
            position: relative;
        }
        
        .card.flip .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            border-radius: 15px;
            padding: 20px;
            box-sizing: border-box;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
        }
        
        .card-front {
            background: linear-gradient(135deg, #333, #222);
        }
        
        .card-back {
            background: linear-gradient(135deg, #444, #333);
            transform: rotateY(180deg);
        }
        
        .card i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #4285f4;
            text-shadow: 0 0 10px rgba(66, 133, 244, 0.5);
        }
        
        .card h3 {
            margin: 0 0 15px 0;
            font-size: 1.5rem;
            color: var(--light);
        }
        
        /* Buttons */
        button {
            margin-top: 15px;
            padding: 10px 20px;
            background: linear-gradient(135deg, #4285f4, #1a73e8);
            color: var(--light);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.4s;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(66, 133, 244, 0.3);
            font-weight: bold;
            min-width: 150px;
            z-index: 10;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            transition: all 0.6s;
        }
        
        button:hover {
            background: linear-gradient(135deg, #1a73e8, #1557b0);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(66, 133, 244, 0.5);
        }
        
        button:hover::before {
            left: 100%;
        }
        
        .card-back button {
            margin: 10px 0;
            width: 80%;
        }
        
        .card-front button {
            pointer-events: none;
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(5px);
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-container {
            background: linear-gradient(145deg, #222, #111);
            border-radius: 20px;
            width: 85%;
            max-width: 900px;
            max-height: 85vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
            transform: translateY(50px) scale(0.9);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 40px rgba(66, 133, 244, 0.4);
            border: 1px solid #4285f4;
            animation: borderGlow 3s infinite alternate;
        }
        
        @keyframes borderGlow {
            0% { box-shadow: 0 0 20px rgba(66, 133, 244, 0.4); }
            100% { box-shadow: 0 0 30px rgba(66, 133, 244, 0.7), 
                  0 0 40px rgba(25, 118, 210, 0.3); }
        }
        
        .modal-overlay.active .modal-container {
            transform: translateY(0) scale(1);
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, var(--danger), #cc0000);
            color: var(--light);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(255,0,0,0.3);
            z-index: 2001;
        }
        
       
        
        .modal-content {
            text-align: left;
            padding: 10px;
            color: var(--light);
        }
        
        .modal-content h2 {
            color: #4285f4;
            margin-top: 0;
            padding-bottom: 15px;
            border-bottom: 2px solid #333;
            font-size: 2rem;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .modal-content h2::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, #4285f4, transparent);
        }
        
        .modal-content h3 {
            color: #4285f4;
            margin: 25px 0 10px 0;
            font-size: 1.4rem;
        }
        
        .modal-content ul {
            padding-left: 25px;
            margin-bottom: 20px;
            list-style-type: none;
        }
        
        .modal-content li {
            margin-bottom: 10px;
            line-height: 1.6;
            position: relative;
            color: var(--light);
        }
        
        .modal-content li::before {
            content: '•';
            color: #4285f4;
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
        
        .modal-content p {
            line-height: 1.6;
            margin-bottom: 15px;
            color: var(--light);
        }
        
        /* Floating background elements */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .floating-element {
            position: absolute;
            opacity: 0.1;
            border-radius: 50%;
            filter: blur(20px);
            animation: float 15s infinite linear;
            background: #4285f4;
        }
        
        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.1;
            }
            90% {
                opacity: 0.1;
            }
            100% {
                transform: translate(100px, -1000px) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .container {
                flex-wrap: wrap;
                gap: 20px;
            }
            
            .card {
                width: calc(50% - 20px);
                min-width: 250px;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                padding: 10px;
            }
            
            .logo {
                margin-bottom: 15px;
            }
            
            .nav-links {
                flex-direction: column;
                width: 100%;
                gap: 10px;
            }
            
            .nav-links li a {
                width: 100%;
                text-align: center;
            }
            
            .container {
                gap: 20px;
            }
            
            .card {
                width: 100%;
                min-width: 100%;
            }
            
            h1 {
                font-size: 2rem;
                margin: 30px 0;
            }
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #222;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #4285f4;
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #1a73e8;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-info span {
            color: var(--text-primary);
            font-weight: 500;
        }

        .user-info .nav-btn {
            background-color: var(--primary);
            padding: 0.5rem 1.5rem;
            border-radius: 6px;
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .user-info .nav-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(58, 134, 255, 0.3);
        }

        .profile-icon {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .profile-icon:hover {
            background-color: var(--primary-dark);
            transform: scale(1.05);
        }

        .profile-icon i {
            color: white;
            font-size: 1.2rem;
        }

        .profile-dropdown {
            position: absolute;
            top: 100%;
            right: 2rem;
            background-color: #1a1a1a;
            border-radius: 8px;
            padding: 0.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            display: none;
            min-width: 180px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .profile-dropdown.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .profile-dropdown a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            text-decoration: none;
            transition: all 0.3s ease;
            border-radius: 4px;
        }

        .profile-dropdown a:hover {
            background-color: rgba(58, 134, 255, 0.1);
            color: var(--primary);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <a href="{{ url_for('home') }}">
                <img src="{{ url_for('static', filename='images/Logo-no-bg.png') }}" alt="PLUGWISE">
            </a>
        </div>
        <ul class="nav-links">
            <li><a href="{{ url_for('home') }}">Home</a></li>
            <li><a href="{{ url_for('maps') }}">Find Stations</a></li>
            <li><a href="{{ url_for('support') }}">Support</a></li>
            {% if current_user.is_authenticated %}
                <li><a href="{{ url_for('plugwise_me') }}">Bookings</a></li>
                <li class="user-info" style="display: flex; align-items: center; gap: 10px;">
                    <div class="user-welcome" style="color: #fff; padding: 8px 15px; background: rgba(255,255,255,0.1); border-radius: 20px; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-user-circle" style="font-size: 18px;"></i>
                        <span style="font-weight: 500;">Welcome, {{ current_user.name }}!</span>
                    </div>
                    <div class="user-actions" style="position: relative;">
                        <button onclick="toggleUserMenu()" style="background: none; border: none; color: white; cursor: pointer; padding: 5px;">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div id="userMenu" class="user-menu" style="display: none; position: absolute; right: 0; top: 100%; background: var(--surface); border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.3); min-width: 150px; margin-top: 5px;">
                            <a href="{{ url_for('profile') }}" style="display: flex; align-items: center; gap: 8px; padding: 10px 15px; color: white; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <i class="fas fa-user"></i>
                                Profile
                            </a>
                            <a href="{{ url_for('plugwise_me') }}" style="display: flex; align-items: center; gap: 8px; padding: 10px 15px; color: white; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <i class="fas fa-bookmark"></i>
                                My Bookings
                            </a>
                            <a href="{{ url_for('logout') }}" style="display: flex; align-items: center; gap: 8px; padding: 10px 15px; color: #ff4444; text-decoration: none;">
                                <i class="fas fa-sign-out-alt"></i>
                                Logout
                            </a>
                        </div>
                    </div>
                </li>
            {% else %}
                <li><a href="{{ url_for('login') }}" class="login-btn" style="background: var(--primary); padding: 8px 20px; border-radius: 20px; transition: background-color 0.3s;">Login</a></li>
            {% endif %}
        </ul>
    </nav>
    
    <div class="header-section">
        <h1>EV Support & Help Center</h1>
        <p>Find solutions to common EV issues and maintenance tips</p>
    </div>
    
    <div class="container">
        <!-- Battery Failure Guide Card -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front" onclick="flipCard(this.parentElement.parentElement)">
                    <i class="fas fa-car-battery"></i>
                    <h3>Battery Failure Guide</h3>
                    <button>Read Guide</button>
                </div>
                <div class="card-back">
                    <button onclick="showGuide('battery', 'two')">Two-Wheeler</button>
                    <button onclick="showGuide('battery', 'four')">Four-Wheeler</button>
                </div>
            </div>
        </div>
        
        <!-- Maintenance Tips Card -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front" onclick="flipCard(this.parentElement.parentElement)">
                    <i class="fas fa-tools"></i>
                    <h3>Maintenance Tips</h3>
                    <button>Read Guide</button>
                </div>
                <div class="card-back">
                    <button onclick="showGuide('maintenance', 'two')">Two-Wheeler</button>
                    <button onclick="showGuide('maintenance', 'four')">Four-Wheeler</button>
                </div>
            </div>
        </div>
        
        <!-- Mechanical Assistance Card -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front" onclick="flipCard(this.parentElement.parentElement)">
                    <i class="fas fa-wrench"></i>
                    <h3>Mechanical Assistance</h3>
                    <button>Read Guide</button>
                </div>
                <div class="card-back">
                    <button onclick="showGuide('mechanical', 'two')">Two-Wheeler</button>
                    <button onclick="showGuide('mechanical', 'four')">Four-Wheeler</button>
                </div>
            </div>
        </div>
        
        <!-- Safety & Emergency Card -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front" onclick="flipCard(this.parentElement.parentElement)">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Safety & Emergency</h3>
                    <button>Read Guide</button>
                </div>
                <div class="card-back">
                    <button onclick="showGuide('safety', 'two')">Two-Wheeler</button>
                    <button onclick="showGuide('safety', 'four')">Four-Wheeler</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-container">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="modal-content" id="modalContent"></div>
        </div>
    </div>
    
    <!-- Floating background elements -->
    <div class="floating-elements" id="floatingElements"></div>
    
    <script>
        // Flip card function
        function flipCard(card) {
            // Prevent the event from triggering on button clicks
            event.stopPropagation();
            
            // Close any open modals first
            closeModal();
            
            // Close all other flipped cards
            document.querySelectorAll('.card.flip').forEach(flippedCard => {
                if (flippedCard !== card) {
                    flippedCard.classList.remove('flip');
                }
            });
            
            // Toggle the clicked card
            card.classList.toggle('flip');
        }
        
        // Guide content data
        const guideContent = {
            battery: {
                two: `
                    <h2>Two-Wheeler Battery Failure Guide</h2>
                    <h3>Causes of Battery Failure</h3>
                    <ul>
                        <li>Overcharging or deep discharging</li>
                        <li>Exposure to extreme temperatures</li>
                        <li>Loose or corroded battery terminals</li>
                        <li>Aging or defective battery cells</li>
                    </ul>
                    
                    <h3>Troubleshooting Steps</h3>
                    <ul>
                        <li>Check battery connections for corrosion and tighten them if loose</li>
                        <li>Ensure the battery is properly charged before riding</li>
                        <li>If the battery is swollen or leaking, replace it immediately</li>
                        <li>Use a multimeter to check voltage levels; a fully charged battery should read around 12.6V</li>
                    </ul>
                    
                    <h3>Prevention Tips</h3>
                    <ul>
                        <li>Avoid frequent short trips; ride for at least 15–20 minutes to keep the battery healthy</li>
                        <li>Store the vehicle in a cool, dry place</li>
                        <li>Use a smart charger to prevent overcharging</li>
                    </ul>
                `,
                four: `
                    <h2>Four-Wheeler Battery Failure Guide</h2>
                    <h3>Common Causes</h3>
                    <ul>
                        <li>Extended periods without driving</li>
                        <li>Faulty alternator not charging the battery</li>
                        <li>Electrical drain from accessories like lights or radio</li>
                    </ul>
                    
                    <h3>Troubleshooting Steps</h3>
                    <ul>
                        <li>Jump-start the vehicle using another car or a portable battery pack</li>
                        <li>Test the alternator by checking voltage levels while the engine is running (should be 13.8V–14.4V)</li>
                        <li>If the battery doesn't hold a charge, consider replacing it</li>
                    </ul>
                    
                    <h3>Prevention Tips</h3>
                    <ul>
                        <li>Drive regularly to keep the battery charged</li>
                        <li>Turn off headlights, interior lights, and infotainment when not in use</li>
                        <li>Check for parasitic drains using a diagnostic tool</li>
                    </ul>
                `
            },
            maintenance: {
                two: `
                    <h2>Two-Wheeler Maintenance Tips</h2>
                    <h3>Regular Maintenance Checklist</h3>
                    <ul>
                        <li>Clean and lubricate the chain regularly</li>
                        <li>Inspect brake pads and replace them if worn</li>
                        <li>Check tire pressure weekly for better efficiency</li>
                        <li>Ensure all lights and indicators are functioning</li>
                    </ul>
                    
                    <h3>Battery Care</h3>
                    <ul>
                        <li>Charge the battery fully before long-term storage</li>
                        <li>Avoid overloading the electrical system with excessive accessories</li>
                    </ul>
                    
                    <h3>Software Updates</h3>
                    <ul>
                        <li>Check for firmware updates if using a smart EV system</li>
                        <li>Reset the system periodically for optimal performance</li>
                    </ul>
                `,
                four: `
                    <h2>Four-Wheeler Maintenance Tips</h2>
                    <h3>Routine Checks</h3>
                    <ul>
                        <li>Inspect tire tread depth and pressure</li>
                        <li>Rotate tires every 5,000–10,000 km</li>
                        <li>Replace windshield wiper fluid and coolant as needed</li>
                    </ul>
                    
                    <h3>Electrical System</h3>
                    <ul>
                        <li>Check charging port for dust and debris</li>
                        <li>Monitor battery health via onboard diagnostics</li>
                        <li>Inspect wiring for any signs of wear or damage</li>
                    </ul>
                    
                    <h3>Long-Term Maintenance</h3>
                    <ul>
                        <li>Schedule professional servicing every 6 months</li>
                        <li>Keep an eye on regenerative braking efficiency</li>
                        <li>Update vehicle software when available</li>
                    </ul>
                `
            },
            mechanical: {
                two: `
                    <h2>Two-Wheeler Mechanical Assistance</h2>
                    <h3>Common Mechanical Issues</h3>
                    <ul>
                        <li>Motor failure due to overheating or water damage</li>
                        <li>Loose suspension causing handling issues</li>
                        <li>Malfunctioning throttle or sensors</li>
                        <li>Brake system malfunctions</li>
                    </ul>
                    
                    <h3>Solutions</h3>
                    <ul>
                        <li>Let the motor cool down before restarting</li>
                        <li>Tighten any loose bolts and check suspension components</li>
                        <li>Reset throttle calibration via the manufacturer's app</li>
                        <li>Check brake fluid levels and pad wear</li>
                    </ul>
                    
                    <h3>When to Seek Professional Help</h3>
                    <ul>
                        <li>If the motor makes unusual noises</li>
                        <li>When experiencing sudden power loss</li>
                        <li>If the vehicle vibrates excessively at normal speeds</li>
                    </ul>
                `,
                four: `
                    <h2>Four-Wheeler Mechanical Assistance</h2>
                    <h3>Issues & Fixes</h3>
                    <h4>Braking Problems</h4>
                    <ul>
                        <li>Check for worn brake pads or hydraulic fluid leaks</li>
                        <li>Inspect brake discs for warping</li>
                    </ul>
                    
                    <h4>Charging Port Not Working</h4>
                    <ul>
                        <li>Ensure no foreign objects are inside the port</li>
                        <li>Check the charging cable for damage</li>
                        <li>Reset the charging system via vehicle settings</li>
                    </ul>
                    
                    <h4>Strange Noises</h4>
                    <ul>
                        <li>Could be loose parts in the motor or drivetrain</li>
                        <li>Get a diagnostic check at a service center</li>
                    </ul>
                    
                    <h3>Suspension Issues</h3>
                    <ul>
                        <li>Check for leaking shock absorbers</li>
                        <li>Inspect suspension bushings for wear</li>
                    </ul>
                `
            },
            safety: {
                two: `
                    <h2>Two-Wheeler Safety & Emergency</h2>
                    <h3>Emergency Handling</h3>
                    <ul>
                        <li>In case of sudden battery failure, pull over safely and use hazard lights</li>
                        <li>Always wear protective gear, including a helmet, gloves, and reflective clothing</li>
                        <li>Carry a basic toolkit and spare fuses</li>
                    </ul>
                    
                    <h3>Fire Safety</h3>
                    <ul>
                        <li>If the battery emits smoke or catches fire, use a Class D fire extinguisher</li>
                        <li>Move away from the vehicle and call emergency services</li>
                        <li>Never attempt to open a smoking battery pack</li>
                    </ul>
                    
                    <h3>Accident Procedures</h3>
                    <ul>
                        <li>Turn off the vehicle immediately after a crash</li>
                        <li>Check for battery damage before attempting to move the vehicle</li>
                        <li>Contact emergency services if there's any sign of battery leakage</li>
                    </ul>
                `,
                four: `
                    <h2>Four-Wheeler Safety & Emergency</h2>
                    <h3>Emergency Protocols</h3>
                    <ul>
                        <li>If the vehicle stalls on the road, turn on hazard lights and move to the shoulder if possible</li>
                        <li>Keep an emergency kit with a flashlight, first-aid supplies, and a phone charger</li>
                        <li>Know the location of your high-voltage disconnect switch</li>
                    </ul>
                    
                    <h3>Accident Response</h3>
                    <ul>
                        <li>Contact emergency services and avoid touching damaged electrical components</li>
                        <li>If airbags deploy, wait for professional assistance before attempting to restart the vehicle</li>
                        <li>Be aware that EV batteries may take longer to cool after a collision</li>
                    </ul>
                    
                    <h3>Flood Situations</h3>
                    <ul>
                        <li>Do not drive through deep water - EVs are not waterproof</li>
                        <li>If water reaches the battery compartment, do not attempt to start the vehicle</li>
                        <li>Have the vehicle inspected after any water exposure</li>
                    </ul>
                `
            }
        };
        
        // Show guide function
        function showGuide(category, vehicleType) {
            event.stopPropagation(); // Stop event from bubbling up
            
            const modalOverlay = document.getElementById('modalOverlay');
            const modalContent = document.getElementById('modalContent');
            
            // Set the content based on category and vehicle type
            modalContent.innerHTML = guideContent[category][vehicleType];
            
            // Show the modal
            modalOverlay.classList.add('active');
            
            // Close all flipped cards
            document.querySelectorAll('.card.flip').forEach(card => {
                card.classList.remove('flip');
            });
            
            // Prevent body scrolling when modal is open
            document.body.style.overflow = 'hidden';
        }
        
        // Close modal function
        function closeModal() {
            const modalOverlay = document.getElementById('modalOverlay');
            modalOverlay.classList.remove('active');
            // Restore body scrolling
            document.body.style.overflow = 'auto';
        }
        
        // Close modal when clicking outside content
        document.getElementById('modalOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // Create floating background elements
        function createFloatingElements() {
            const container = document.getElementById('floatingElements');
            const colors = ['#4285f4', '#1a73e8', '#1557b0', '#82b1ff'];
            
            for (let i = 0; i < 15; i++) {
                const element = document.createElement('div');
                element.classList.add('floating-element');
                
                // Random properties
                const size = Math.random() * 200 + 100;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100;
                const animationDuration = Math.random() * 20 + 10;
                const delay = Math.random() * 10;
                
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;
                element.style.background = color;
                element.style.left = `${left}%`;
                element.style.animationDuration = `${animationDuration}s`;
                element.style.animationDelay = `${delay}s`;
                
                container.appendChild(element);
            }
        }
        
        // Initialize floating elements when page loads
        window.addEventListener('load', createFloatingElements);
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
        
        // Add click animation to buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(e) {
                // Create ripple effect
                const ripple = document.createElement('span');
                ripple.classList.add('ripple');
                this.appendChild(ripple);
                
                // Get click position
                const rect = this.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // Position ripple
                ripple.style.left = `${x}px`;
                ripple.style.top = `${y}px`;
                
                // Remove ripple after animation
                setTimeout(() => {
                    ripple.remove();
                }, 1000);
            });
        });

        window.addEventListener("load", (event) => {
            new cursoreffects.bubbleCursor();
        });

        function toggleUserMenu() {
            const menu = document.getElementById('userMenu');
            menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('userMenu');
            const userInfo = event.target.closest('.user-info');
            if (!userInfo && menu.style.display === 'block') {
                menu.style.display = 'none';
            }
        });
    </script>
</body>
</html>